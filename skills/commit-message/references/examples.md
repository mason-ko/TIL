# Commit Message Examples

이 문서는 다양한 상황에서 사용할 수 있는 커밋 메시지 예시를 제공합니다.

## 목차

1. [기능 추가 (feat)](#기능-추가-feat)
2. [버그 수정 (fix)](#버그-수정-fix)
3. [문서 (docs)](#문서-docs)
4. [리팩토링 (refactor)](#리팩토링-refactor)
5. [테스트 (test)](#테스트-test)
6. [기타 (chore, style, perf)](#기타-chore-style-perf)

## 기능 추가 (feat)

### 새로운 API 엔드포인트

```
feat(api): 사용자 검색 API 추가

- 이름, 이메일, 전화번호로 검색 가능
- 페이지네이션 지원
- 검색 결과 정렬 옵션 제공
```

### UI 컴포넌트

```
feat(ui): 다크모드 토글 버튼 컴포넌트 추가

사용자가 라이트/다크 모드를 쉽게 전환할 수 있도록
헤더에 토글 버튼 추가
```

### 데이터베이스 마이그레이션

```
feat(database): 주문 테이블 스키마 추가

- orders 테이블 생성
- order_items 관계 테이블 추가
- 인덱스 설정 (user_id, created_at)
```

### 인증/인가

```
feat(auth): 2단계 인증 기능 구현

SMS 또는 이메일을 통한 OTP 인증 추가
보안 강화를 위해 로그인 시 선택적으로 활성화 가능

Fixes: #234
```

### 외부 서비스 연동

```
feat(integration): 슬랙 알림 연동

- 주문 생성 시 슬랙 채널에 알림 전송
- Webhook URL 환경 변수로 설정
- 재시도 로직 및 에러 핸들링 포함
```

## 버그 수정 (fix)

### UI 버그

```
fix(ui): 모바일에서 메뉴 버튼 클릭 안되는 문제 수정

z-index 충돌로 인해 버튼이 다른 요소에 가려지는 문제 해결
```

### 로직 버그

```
fix(payment): 결제 금액 계산 오류 수정

할인율 적용 시 소수점 처리 오류로
잘못된 금액이 계산되던 문제 해결

Fixes: #567
```

### 성능 문제

```
fix(api): 대량 데이터 조회 시 타임아웃 발생 문제 해결

페이지네이션 쿼리 최적화 및
인덱스 활용으로 응답 시간 개선
```

### 보안 취약점

```
fix(security): XSS 취약점 수정

사용자 입력값 검증 강화 및
HTML 이스케이프 처리 추가
```

### 호환성 문제

```
fix(build): Safari 브라우저 호환성 문제 해결

폴리필 추가로 ES6+ 기능 호환성 확보
```

## 문서 (docs)

### README 업데이트

```
docs(readme): 프로젝트 설치 가이드 개선

- Docker를 사용한 설치 방법 추가
- 환경 변수 설정 예시 보완
- 트러블슈팅 섹션 추가
```

### API 문서

```
docs(api): 인증 API 명세 업데이트

응답 코드 및 에러 메시지 예시 추가
```

### 주석 추가

```
docs(code): 복잡한 비즈니스 로직에 주석 추가

할인율 계산 로직의 이해를 돕기 위한
상세 주석 작성
```

### 변경 이력

```
docs(changelog): v2.0.0 릴리스 노트 작성

주요 변경사항 및 마이그레이션 가이드 포함
```

## 리팩토링 (refactor)

### 코드 구조 개선

```
refactor(auth): 인증 로직을 별도 서비스로 분리

컨트롤러에서 비즈니스 로직을 서비스 계층으로 이동
코드 재사용성 및 테스트 용이성 향상
```

### 함수 분리

```
refactor(utils): 유틸리티 함수 모듈화

날짜 처리 관련 함수들을 date_utils.py로 분리
```

### 타입 개선

```
refactor(types): 타입 정의 개선 및 제네릭 적용

더 엄격한 타입 체크를 통한 타입 안정성 향상
```

### 의존성 제거

```
refactor(deps): lodash 의존성 제거

네이티브 JavaScript 메서드로 대체하여
번들 크기 감소
```

## 테스트 (test)

### 단위 테스트

```
test(user): 사용자 서비스 단위 테스트 추가

회원가입, 로그인, 프로필 수정 기능에 대한
테스트 케이스 작성
```

### 통합 테스트

```
test(api): 주문 생성 API 통합 테스트 추가

엔드투엔드 시나리오 검증
```

### 테스트 개선

```
test(payment): 결제 테스트 커버리지 향상

엣지 케이스 및 에러 상황 테스트 추가
```

### 테스트 픽스

```
test(ci): flaky 테스트 수정

비동기 처리 대기 시간 조정으로 안정성 향상
```

## 기타 (chore, style, perf)

### 빌드 설정

```
chore(build): Webpack 설정 업데이트

프로덕션 빌드 최적화 옵션 추가
```

### 의존성 업데이트

```
chore(deps): 의존성 패키지 업데이트

보안 패치 및 버그 수정이 포함된
최신 버전으로 업데이트
```

### 코드 스타일

```
style(format): 코드 포맷팅 규칙 적용

Prettier 설정에 따라 전체 코드베이스 포맷팅
```

### 성능 개선

```
perf(image): 이미지 최적화 및 lazy loading 적용

초기 로딩 시간 30% 개선
```

### CI/CD

```
ci(github): GitHub Actions 워크플로우 추가

PR 생성 시 자동 테스트 및 린트 실행
```

### 설정 파일

```
chore(config): ESLint 규칙 추가

코드 품질 향상을 위한 엄격한 린트 규칙 적용
```

## 복잡한 예시

### Breaking Change 포함

```
feat(api): 사용자 API 응답 구조 변경

RESTful API 표준에 맞춰 응답 형식 통일

기존:
{
  "user": {...}
}

변경:
{
  "data": {...},
  "meta": {...}
}

BREAKING CHANGE: 기존 API 클라이언트는 응답 구조 수정 필요
```

### 다중 이슈 참조

```
fix(order): 주문 처리 관련 버그 수정

- 중복 주문 방지 로직 추가
- 재고 차감 타이밍 개선
- 주문 취소 시 재고 복구 처리

Fixes: #123, #456, #789
```

### 공동 작업자 명시

```
feat(analytics): 사용자 행동 분석 대시보드 구현

- Chart.js를 사용한 시각화
- 실시간 데이터 업데이트
- 기간별 필터링 기능

Co-authored-by: Kim Minsoo <minsoo@example.com>
Co-authored-by: Lee Jihye <jihye@example.com>
```

## 스코프 사용 예시

### 모놀리식 프로젝트

```
feat(admin): 관리자 대시보드 추가
feat(user): 회원가입 폼 개선
fix(payment): 결제 모듈 버그 수정
```

### 마이크로서비스

```
feat(auth-service): JWT 토큰 갱신 기능 추가
fix(order-service): 주문 상태 업데이트 오류 수정
```

### 프론트엔드 컴포넌트

```
feat(button): 새로운 버튼 스타일 추가
fix(modal): 모달 닫기 버튼 작동 오류 수정
```

### 백엔드 레이어

```
refactor(repository): 데이터 접근 계층 구조 개선
test(controller): 컨트롤러 레이어 테스트 추가
```

## 팁

### 명확한 동사 사용

✅ 좋은 예:
- `feat(auth): 로그인 기능 추가`
- `fix(ui): 버튼 정렬 오류 수정`
- `refactor(api): API 구조 개선`

❌ 나쁜 예:
- `feat(auth): 로그인` (불명확)
- `fix(ui): 버튼` (무엇을 했는지 불명확)
- `refactor(api): 수정` (너무 모호함)

### 적절한 범위 설정

✅ 좋은 예:
- `feat(payment): 카카오페이 결제 추가` (구체적)
- `fix(user-profile): 프로필 이미지 업로드 오류 수정` (명확한 범위)

❌ 나쁜 예:
- `feat: 결제 기능 추가` (scope 누락)
- `fix(app): 버그 수정` (너무 광범위한 scope)

### Body 활용

간단한 변경은 subject만으로 충분하지만,
복잡한 변경은 body에 상세 설명 추가:

```
refactor(database): 데이터베이스 연결 풀 최적화

기존 단일 연결 방식에서 연결 풀 방식으로 변경
- 최대 연결 수: 10개
- 유휴 연결 타임아웃: 30초
- 연결 재시도 로직 추가

성능 테스트 결과 동시 요청 처리 성능 50% 향상
```
